<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dual-axis Solar Tracker — Project Documentation</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    /* Ensure fixed header doesn't overlap content */
    body {
      padding-top: 20px;
      /* Space for fixed header */
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: linear-gradient(180deg, rgba(15, 23, 36, 0.98), rgba(15, 23, 36, 0.85));
      backdrop-filter: blur(8px);
      z-index: 1000;
      padding: 16px 40px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }

    .container {
      margin: 10px;
    }

    /* Sidebar layout for documentation hero section */
    .hero {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 32px;
      align-items: start;
      margin-bottom: 40px;
    }

    .hero .intro {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .hero .profile.card {
      background: var(--glass);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .avatar.small {
      width: 100%;
      height: 220px;
      border-radius: 12px;
      overflow: hidden;
      background: linear-gradient(180deg, #06202b, #072033);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .avatar.small img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .avatar.small img:hover {
      transform: scale(1.05);
    }

    @media(max-width: 800px) {
      .hero {
        grid-template-columns: 1fr;
      }

      .hero .profile.card {
        order: -1;
      }
    }


    /* Responsive tweak for smaller screens */
    @media (max-width: 600px) {
      body {
        padding-top: 130px;
      }

      header {
        padding: 12px 20px;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }
  </style>
</head>

<body>
  <!-- Fixed Header -->
  <header>
    <a class="brand" href="../index.html">
      <div class="logo">RJ</div>
      <div>
        <h1>Rogel Juliuz Almacin Llagas</h1>
        <p>Mechatronics Graduate · Embedded Systems · Robotics</p>
      </div>
    </a>
    <nav>
      <a class="nav-link" href="../index.html#projects">Projects</a>
      <a class="nav-link" href="../index.html#internship">Internship</a>
      <a class="nav-link" href="../index.html#about">About</a>
      <a class="nav-link" href="../index.html#contact">Contact</a>
    </nav>
  </header>

  <!-- Main Content -->
  <div class="container">

    <h1>Dual-axis Solar Tracker</h1>
    <div class="meta">
      An intelligent solar tracking system with GPS, MPU6050, and RTC for real-time sun tracking.
    </div>
    <section class="section hero">
      <div class="card intro">

        <h2>Overview</h2>
        <p>
          The Dual-axis Solar Tracker automatically aligns solar panels toward the sun throughout the day to maximize
          energy collection. It utilizes a combination of sensors and control logic to continuously adjust the pitch and
          roll angles of the panel through linear actuators for optimal sunlight exposure.
        </p>

        <p>
          The system integrates GPS for location tracking, an MPU6050 sensor for orientation feedback, and a PID control
          algorithm to ensure precise movement. Controlled by an Arduino and L298N motor driver, the tracker operates
          smoothly and efficiently, providing accurate sun tracking throughout different times of the day.
        </p>
      </div>

      <aside class="profile card">
        <div class="avatar small">
          <img src="../solar_tracker_img3.jpg" alt="Dual-axis Solar Tracker Overview" class="zoomable">
        </div>
        <div class="meta">Prototype Overview — Compact dual-axis setup with MPU6050 and GPS modules.</div>
      </aside>
    </section>


    <section class="section">
      <h2>Hardware Components</h2>
      <ul>
        <li><strong>MPU6050</strong> – Measures orientation (pitch and roll).</li>
        <li><strong>NEO6M GPS</strong> – Provides location coordinates for sun path calculation.</li>
        <li><strong>L298N Motor Driver</strong> – Controls the linear actuators.</li>
        <li><strong>DS1302 RTC Module</strong> – Keeps real-time tracking for time-based alignment.</li>
        <li><strong>Arduino Mega</strong> – Main controller running PID control logic.</li>
      </ul>

      <div class="image-grid">
        <img src="../solar_tracker_img2.jpg" alt="MPU6050 Sensor" class="zoomable">
        <img src="../solar_tracker_img3.jpg" alt="GPS Module" class="zoomable">
        <img src="../solar_tracker_img1.jpg" alt="L298N Motor Driver" class="zoomable">
      </div>

      <div class="video-card">
        <video controls>
          <source src="../solar_tracker_vid1.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </section>

    <section class="section">
      <h2>System Operation</h2>
      <p>
        The system calculates the sun's position using GPS coordinates, time, and date. It adjusts the solar panel using
        a PID controller based on the MPU6050’s orientation feedback to maintain accurate alignment with the sun’s path.
      </p>

      <div class="image-card">
        <img src="../solar_tracker_img5.jpg" alt="System Operation Diagram" class="zoomable">
      </div>
    </section>

    <section class="section">
      <h2>Control Algorithm</h2>
      <pre><code>// Simplified pseudo-code
read MPU6050 orientation;
read GPS longitude, latitude;
calculate sun position (azimuth, altitude);
compute error = sun_position - current_orientation;
PID_output = Kp*error + Ki*sum(error) + Kd*d(error);
control motor direction via L298N;
</code></pre>
      <p>
        The PID algorithm ensures smooth and stable motion, compensating for environmental changes like wind or load
        variation.
      </p>
    </section>

    <section class="section">
      <h2>Features</h2>
      <ul>
        <li>Dual-axis motion with precise orientation control.</li>
        <li>GPS-based sun position calculation.</li>
        <li>Time-based tracking using RTC module.</li>
        <li>PID control for smooth actuator response.</li>
        <li>Fail safe reset to initial position after sunset.</li>
      </ul>
    </section>

    <section class="section">
      <h2>Results</h2>
      <p>
        The tracker successfully maintained optimal alignment throughout the day, achieving improved energy efficiency
        compared to fixed panels. It demonstrated reliable performance with minimal overshoot due to effective PID
        tuning.
      </p>
    </section>

    <section class="section">
      <h2>Future Improvements</h2>
      <ul>
        <li>Add IoT monitoring for real-time energy tracking.</li>
        <li>Integrate cloud data logging and weather-based adjustments.</li>
        <li>Optimize power consumption of the control system.</li>
      </ul>
    </section>

    <footer>
      © <span id="year"></span> Rogel Juliuz A. Llagas · All Rights Reserved
    </footer>
  </div>

  <!-- Lightbox Modal -->
  <div id="lightbox" class="lightbox">
    <button class="lightbox-close" id="closeLightbox">Close</button>
    <img id="lightboxImg" src="" alt="">
  </div>

  <script>
    // Dynamic year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Lightbox logic
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    const closeLightbox = document.getElementById('closeLightbox');

    document.querySelectorAll('.zoomable').forEach(img => {
      img.addEventListener('click', () => {
        lightboxImg.src = img.src;
        lightbox.style.display = 'flex';
      });
    });

    closeLightbox.addEventListener('click', () => lightbox.style.display = 'none');
    lightbox.addEventListener('click', e => {
      if (e.target === lightbox) lightbox.style.display = 'none';
    });
  </script>
</body>

</html>